<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cassino</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 40px;
            max-width: 500px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }
        
        h1 {
            color: #e94560;
            text-align: center;
            margin-bottom: 10px;
            font-size: 2.5em;
        }
        
        .balance {
            text-align: center;
            font-size: 1.5em;
            color: #16213e;
            margin-bottom: 30px;
            font-weight: bold;
        }
        
        .balance span {
            color: #27ae60;
        }
        
        .input-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            color: #16213e;
            font-weight: 600;
        }
        
        input[type="number"] {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        input[type="number"]:focus {
            outline: none;
            border-color: #e94560;
        }
        
        .info {
            background: #f0f0f0;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        .info p {
            margin: 5px 0;
            color: #555;
        }
        
        .info strong {
            color: #16213e;
        }
        
        button {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #e94560 0%, #d63447 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(233, 69, 96, 0.3);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        button:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }
        
        .result {
            margin-top: 20px;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            font-size: 18px;
            font-weight: bold;
            display: none;
        }
        
        .result.win {
            background: #d4edda;
            color: #155724;
            border: 2px solid #c3e6cb;
        }
        
        .result.lose {
            background: #f8d7da;
            color: #721c24;
            border: 2px solid #f5c6cb;
        }
        
        .history {
            margin-top: 20px;
            max-height: 150px;
            overflow-y: auto;
            background: #f8f9fa;
            padding: 10px;
            border-radius: 8px;
        }
        
        .history-item {
            padding: 5px;
            margin: 3px 0;
            border-radius: 4px;
            font-size: 14px;
        }
        
        .history-item.win {
            background: #d4edda;
            color: #155724;
        }
        
        .history-item.lose {
            background: #f8d7da;
            color: #721c24;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸŽ° Cassino</h1>
        <div class="balance">Saldo: R$ <span id="balance">100</span></div>
        
        <div class="input-group">
            <label for="bet">Valor da Aposta (R$)</label>
            <input type="number" id="bet" min="1" value="10" step="1">
        </div>
        
        <div class="info">
            <p><strong>Chance de ganhar:</strong> <span id="winChanceDisplay">15</span>%</p>
            <p><strong>Multiplicador:</strong> <span id="multiplier">2.00</span>x</p>
            <p><strong>Ganho potencial:</strong> R$ <span id="potentialWin">20.00</span></p>
            <p><strong>Vantagem da casa:</strong> <span id="houseEdge">10.0</span>%</p>
        </div>
        
        <button id="playBtn" onclick="play()">APOSTAR</button>
        
        <div class="result" id="result"></div>
        
        <div class="history" id="history"></div>
    </div>
    
    <script>
        let balance = 1000;
        let history = [];
        const WIN_CHANCE = 15; // Chance fixa de ganhar
        
        function updateInfo() {
            const bet = parseFloat(document.getElementById('bet').value) || 0;
            
            // Multiplicador justo seria 100 / winChance
            // Mas aplicamos vantagem da casa (house edge) de ~10%
            const fairMultiplier = 100 / WIN_CHANCE;
            const houseEdge = 0.10; // 10% de vantagem da casa
            const multiplier = fairMultiplier * (1 - houseEdge);
            
            const potentialWin = bet * multiplier;
            const actualHouseEdge = ((fairMultiplier - multiplier) / fairMultiplier) * 100;
            
            document.getElementById('multiplier').textContent = multiplier.toFixed(2);
            document.getElementById('potentialWin').textContent = potentialWin.toFixed(2);
            document.getElementById('houseEdge').textContent = actualHouseEdge.toFixed(1);
        }
        
        function play() {
            const bet = parseFloat(document.getElementById('bet').value) || 0;
            
            // ValidaÃ§Ãµes
            if (bet <= 0) {
                alert('A aposta deve ser maior que zero!');
                return;
            }
            
            if (bet > balance) {
                alert('Saldo insuficiente!');
                return;
            }
            
            // Jogar
            const random = Math.random() * 100;
            const won = random < WIN_CHANCE;
            
            const fairMultiplier = 100 / WIN_CHANCE;
            const houseEdge = 0.10;
            const multiplier = fairMultiplier * (1 - houseEdge);
            
            let resultText;
            let resultClass;
            
            if (won) {
                const winAmount = bet * multiplier;
                balance += (winAmount - bet);
                resultText = `ðŸŽ‰ GANHOU! +R$ ${(winAmount - bet).toFixed(2)}`;
                resultClass = 'win';
                
                history.unshift({
                    type: 'win',
                    amount: winAmount - bet,
                    bet: bet
                });
            } else {
                balance -= bet;
                resultText = `ðŸ˜¢ SE FODEU! -R$ ${bet.toFixed(2)}`;
                resultClass = 'lose';
                
                history.unshift({
                    type: 'lose',
                    amount: bet,
                    bet: bet
                });
            }
            
            // Atualizar UI
            document.getElementById('balance').textContent = balance.toFixed(2);
            
            const resultDiv = document.getElementById('result');
            resultDiv.textContent = resultText;
            resultDiv.className = `result ${resultClass}`;
            resultDiv.style.display = 'block';
            
            // Atualizar histÃ³rico
            updateHistory();
            
            // Verificar se perdeu tudo
            if (balance <= 0) {
                setTimeout(() => {
                    if (confirm('VocÃª perdeu tudo! Quer recomeÃ§ar com R$ 1000?')) {
                        balance = 1000;
                        document.getElementById('balance').textContent = balance.toFixed(2);
                        history = [];
                        updateHistory();
                    }
                }, 500);
            }
        }
        
        function updateHistory() {
            const historyDiv = document.getElementById('history');
            historyDiv.innerHTML = history.slice(0, 10).map(item => {
                const sign = item.type === 'win' ? '+' : '-';
                const amount = item.type === 'win' ? item.amount : item.amount;
                return `<div class="history-item ${item.type}">${sign}R$ ${amount.toFixed(2)} (aposta: R$ ${item.bet.toFixed(2)})</div>`;
            }).join('');
        }
        
        // Event listeners
        document.getElementById('bet').addEventListener('input', updateInfo);
        
        // Inicializar
        updateInfo();
    </script>
</body>
</html>
